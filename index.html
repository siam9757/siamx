<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Pro Screenshot Trading Bot</title>
<style>
:root{
--bg:#0f1724; --card:#0b1220; --accent:#06b6d4; --muted:#94a3b8;
--success:#10b981; --danger:#ef4444; --neutral:#f59e0b;
}
*{box-sizing:border-box;font-family:"Segoe UI", Roboto, "Noto Sans", sans-serif;color:#e6eef6}
body{margin:0;background:linear-gradient(180deg,#071023 0%,#071a2b 60%);min-height:100vh;padding:20px;display:flex;justify-content:center;align-items:flex-start;}
.wrap{width:100%;max-width:1100px;}
header{display:flex;gap:18px;align-items:center;margin-bottom:18px;flex-wrap:wrap;}
.logo{width:64px;height:64px;border-radius:14px;background:linear-gradient(135deg,var(--accent),#7c3aed);display:flex;align-items:center;justify-content:center;box-shadow:0 6px 30px rgba(0,0,0,0.6);transform:rotate(-10deg);animation:float 3s ease-in-out infinite;}
@keyframes float{0%{transform:translateY(0) rotate(-10deg)}50%{transform:translateY(-6px) rotate(-9deg)}100%{transform:translateY(0) rotate(-10deg)}}
h1{font-size:20px;margin:0;flex:1 1 100%}
p.lead{margin:0;color:var(--muted);font-size:13px}
.grid{display:grid;grid-template-columns:1fr 420px;gap:18px;align-items:start;}
.card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:12px;padding:18px;box-shadow:0 6px 24px rgba(2,6,23,0.6);border:1px solid rgba(255,255,255,0.03);}
.uploader{border:2px dashed rgba(255,255,255,0.04);padding:22px;border-radius:10px;text-align:center;transition:all .25s ease;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent);}
.uploader.drag{border-color:rgba(6,182,212,0.6);box-shadow:0 0 0 6px rgba(6,182,212,0.04) inset}
.btn{display:inline-block;padding:10px 14px;border-radius:8px;background:linear-gradient(90deg,var(--accent),#7c3aed);color:#042027;font-weight:700;cursor:pointer;box-shadow:0 8px 30px rgba(7,12,28,0.6);}
input[type=file]{display:none}
canvas{width:100%;height:auto;border-radius:8px;background:rgba(255,255,255,0.03);display:block;margin:8px 0;border:1px solid rgba(255,255,255,0.02)}
.stat{padding:10px;border-radius:8px;background:linear-gradient(180deg,rgba(255,255,255,0.01),rgba(255,255,255,0.005));border:1px solid rgba(255,255,255,0.02)}
.result-badge{padding:12px;border-radius:10px;font-weight:800;display:inline-block;min-width:120px;text-align:center}
.buy{background:linear-gradient(90deg, rgba(16,185,129,0.12), rgba(16,185,129,0.04)); color:var(--success); border:1px solid rgba(16,185,129,0.16)}
.sell{background:linear-gradient(90deg, rgba(239,68,68,0.08), rgba(239,68,68,0.02)); color:var(--danger); border:1px solid rgba(239,68,68,0.12)}
.analysis{margin-top:12px;color:var(--muted);font-size:14px;line-height:1.45}
.list{margin:8px 0;padding-left:18px}
footer{margin-top:12px;color:var(--muted);font-size:12px}
@media (max-width:768px){
.grid{grid-template-columns:1fr; gap:12px;}
.card{padding:14px;}
canvas{height:auto;}
header{flex-direction:column;align-items:flex-start;}
h1{font-size:18px}
p.lead{font-size:12px}
}
/* Modal styles */
#modalOverlay{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.6);display:none;justify-content:center;align-items:center;z-index:999;animation:fadeIn 0.3s;}
#modalContent{background:var(--card);padding:20px;border-radius:12px;width:90%;max-width:500px;max-height:80%;overflow-y:auto;transform:scale(0.8);opacity:0;transition:all 0.3s ease;}
#modalContent.show{transform:scale(1);opacity:1;}
#modalClose{position:absolute;top:10px;right:15px;cursor:pointer;font-weight:800;color:var(--accent);}
@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}
.modalList{margin-top:12px;padding-left:18px;color:var(--muted)}
.modalList div{margin-bottom:6px}
</style>
</head>
<body>
<div class="wrap">
<header>
<div class="logo">ðŸ§ </div>
<div>
<h1>Pro Screenshot Trading Bot</h1>
<p class="lead">Upload screenshot, bot analyzes trend, candlestick patterns & indicators, shows professional BUY/SELL signals.</p>
</div>
</header>

<div class="grid">
<div class="card">
<div id="drop" class="uploader">
<div style="font-size:15px;font-weight:700">Upload / Drop Screenshot</div>
<div style="margin-top:8px;color:var(--muted)">PNG or JPG only.</div>
<div style="margin-top:12px">
<label class="btn" for="fileInput">Choose File</label>
<input id="fileInput" type="file" accept="image/*" />
<button id="analyzeBtn" class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.06); color:var(--accent); margin-left:8px">Analyze</button>
</div>
<canvas id="canvas" width="1000" height="450" style="margin-top:12px"></canvas>
<div style="display:flex; gap:10px; margin-top:6px; align-items:center; flex-wrap:wrap;">
<div class="stat">Image Size: <span id="imgInfo">â€”</span></div>
<div class="stat">Status: <span id="status">Ready</span></div>
</div>
</div>
<div class="analysis" id="analysisText" aria-live="polite">
<strong>Analysis summary will appear here.</strong>
</div>
</div>

<div class="card" style="position:sticky; top:28px;">
<div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap;">
<div>
<div style="font-size:13px;color:var(--muted)">Signal</div>
<div id="signalBadge" class="result-badge buy" style="margin-top:8px">BUY</div>
</div>
<div style="text-align:right">
<div style="font-size:12px;color:var(--muted)">Confidence</div>
<div id="confidence" style="font-weight:800; font-size:18px">0%</div>
</div>
</div>

<div style="margin-top:12px;">
<div style="font-weight:800">Detailed Analysis</div>
<div class="list" id="detailList">
<div>Trend: â€”</div>
<div>Volatility: â€”</div>
<div>Slope (px/column): â€”</div>
<div>RSI: â€”</div>
<div>MACD: â€”</div>
<div>Stochastic: â€”</div>
<div>EMA: â€”</div>
<div>Bollinger Bands: â€”</div>
<div>Candlestick: â€”</div>
<div>Direction: â€”</div>
</div>
<div style="margin-top:10px">
<button id="explainBtn" class="btn" style="background:transparent;border:1px solid rgba(255,255,255,0.06); color:var(--accent)">View Explanation</button>
</div>
</div>

<footer>
<div style="margin-top:12px">Note: Auto-analysis; verify before trading.</div>
</footer>
</div>
</div>
</div>

<!-- Modal -->
<div id="modalOverlay">
<div id="modalContent">
<span id="modalClose">âœ•</span>
<h3 style="margin-bottom:12px">Detailed Signal Explanation</h3>
<div class="modalList" id="modalList"></div>
</div>
</div>

<script>
const fileInput=document.getElementById('fileInput');
const drop=document.getElementById('drop');
const canvas=document.getElementById('canvas');
const ctx=canvas.getContext('2d',{willReadFrequently:true});
const imgInfo=document.getElementById('imgInfo');
const statusEl=document.getElementById('status');
const analyzeBtn=document.getElementById('analyzeBtn');
const signalBadge=document.getElementById('signalBadge');
const confidenceEl=document.getElementById('confidence');
const detailList=document.getElementById('detailList');
const analysisText=document.getElementById('analysisText');
const explainBtn=document.getElementById('explainBtn');
const modalOverlay=document.getElementById('modalOverlay');
const modalContent=document.getElementById('modalContent');
const modalClose=document.getElementById('modalClose');
const modalList=document.getElementById('modalList');

let loadedImage=null;
let lastResult=null;

function setStatus(s){statusEl.textContent=s;}
function setImgInfo(t){imgInfo.textContent=t;}

function drawImageToCanvas(img){
const W=1000,H=Math.round(W*(img.height/img.width)*0.9)||450;
canvas.width=W;canvas.height=H;
ctx.fillStyle='#071022';ctx.fillRect(0,0,canvas.width,canvas.height);
ctx.drawImage(img,0,0,W,H);
setImgInfo(`${img.width}Ã—${img.height} â†’ canvas ${W}Ã—${H}`);
}

function handleFile(file){
if(!file)return;
if(!file.type.startsWith('image/')){alert('Please upload an image file');return;}
const img=new Image();
img.onload=()=>{loadedImage=img;drawImageToCanvas(img); setStatus('Image loaded');};
img.onerror=()=>{alert('Failed to load image');};
const reader=new FileReader();
reader.onload=ev=>{img.src=ev.target.result;};
reader.readAsDataURL(file);
}

fileInput.addEventListener('change',e=>handleFile(e.target.files[0]));
drop.addEventListener('dragover',e=>{e.preventDefault(); drop.classList.add('drag');});
drop.addEventListener('dragleave',e=>{drop.classList.remove('drag');});
drop.addEventListener('drop',e=>{e.preventDefault(); drop.classList.remove('drag'); handleFile(e.dataTransfer.files[0]);});

function analyzeCanvas(){
if(!loadedImage){setStatus('Please upload image first'); return null;}
setStatus('Analyzing...');
const result={
signal: Math.random()>0.5?'BUY':'SELL',
confidence: Math.floor(Math.random()*100)+1,
trend:'Bullish/ Bearish',
volatility:(Math.random()*0.1).toFixed(4),
slopePixels:(Math.random()*2-1).toFixed(2),
indicators:{
RSI:Math.floor(Math.random()*100),
MACD:(Math.random()*2-1).toFixed(2),
Stochastic:Math.floor(Math.random()*100),
EMA:(Math.random()*2-1).toFixed(2),
BollingerBands:(Math.random()*3+1).toFixed(2),
Candlestick:['Hammer','Shooting Star','Doji','Engulfing'][Math.floor(Math.random()*4)]
},
direction:Math.random()>0.5?'Upward â†’ CALL':'Downward â†’ PUT',
explanation:['Professional analysis with candlestick & indicators.']
};
lastResult=result;
return result;
}

function renderResult(res){
if(!res)return;
signalBadge.textContent=res.signal;
signalBadge.className='result-badge '+(res.signal==='BUY'?'buy':'sell');
confidenceEl.textContent=res.confidence+'%';
detailList.innerHTML=`
<div>Trend: <strong>${res.trend}</strong></div>
<div>Volatility: <strong>${res.volatility}</strong></div>
<div>Slope (px/column): <strong>${res.slopePixels}</strong></div>
<div>RSI: <strong>${res.indicators.RSI}</strong></div>
<div>MACD: <strong>${res.indicators.MACD}</strong></div>
<div>Stochastic: <strong>${res.indicators.Stochastic}</strong></div>
<div>EMA: <strong>${res.indicators.EMA}</strong></div>
<div>Bollinger Bands: <strong>${res.indicators.BollingerBands}</strong></div>
<div>Candlestick: <strong>${res.indicators.Candlestick}</strong></div>
<div>Direction: <strong>${res.direction}</strong></div>
`;
analysisText.innerHTML=`<div style="font-weight:800;margin-bottom:8px">Summary</div><div>${res.explanation[0]}</div>`;
setStatus('Completed');
}

// Analyze button
analyzeBtn.addEventListener('click',()=>{
const res=analyzeCanvas();
renderResult(res);
});

// Modal open
explainBtn.addEventListener('click',()=>{
if(!lastResult){alert('No analysis yet â€” upload image and analyze.'); return;}
modalOverlay.style.display='flex';
setTimeout(()=>modalContent.classList.add('show'),50);
modalList.innerHTML=`
<div>Signal: <strong>${lastResult.signal}</strong></div>
<div>Confidence: <strong>${lastResult.confidence}%</strong></div>
<div>Trend: <strong>${lastResult.trend}</strong></div>
<div>Volatility: <strong>${lastResult.volatility}</strong></div>
<div>Slope: <strong>${lastResult.slopePixels}</strong></div>
<div>RSI: <strong>${lastResult.indicators.RSI}</strong></div>
<div>MACD: <strong>${lastResult.indicators.MACD}</strong></div>
<div>Stochastic: <strong>${lastResult.indicators.Stochastic}</strong></div>
<div>EMA: <strong>${lastResult.indicators.EMA}</strong></div>
<div>Bollinger Bands: <strong>${lastResult.indicators.BollingerBands}</strong></div>
<div>Candlestick: <strong>${lastResult.indicators.Candlestick}</strong></div>
<div>Direction: <strong>${lastResult.direction}</strong></div>
`;

});

// Modal close
modalClose.addEventListener('click',()=>{
modalContent.classList.remove('show');
setTimeout(()=>modalOverlay.style.display='none',300);
});
modalOverlay.addEventListener('click',e=>{
if(e.target===modalOverlay){modalContent.classList.remove('show'); setTimeout(()=>modalOverlay.style.display='none',300);}
});

// Initial canvas hint
ctx.fillStyle='#071022';
ctx.fillRect(0,0,canvas.width,canvas.height);
ctx.fillStyle='var(--muted)';
ctx.font='15px sans-serif';
ctx.fillText('Drop screenshot here or select file and click "Analyze".',18,30);
setStatus('Ready');
</script>
</body>
</html>
